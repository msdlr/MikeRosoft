@model MikeRosoft.Models.BanViewModels.CreateBanViewModel

@{
    ViewData["Title"] = "Create";
}

<h1>Create</h1>

<form asp-action="Create" method="post">
    <div class="form-horizontal">
        <h4>Ban</h4>
        <hr />
    </div>

    @Html.HiddenFor(x => x.adminId)
    Date format: dd/MM/yyyy HH:mm, for example: 17/01/2017 12:46

    <table class="table" width="100%">
        <!-- Headers -->
        <thead>
            <tr>
                <th>
                    User(s)
                </th>
                <th>
                    Ban type
                </th>
                <th>
                    Start date
                </th>
                <th>
                    End date
                </th>
                <th>
                    Additional comment
                </th>
            </tr>
        </thead>

        <!-- Content -->

        <tbody>
            @for (int i = 0; i < Model.UserIds.Count(); i++)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(m => m.infoAboutUser[i])
                        @Html.HiddenFor(m => m.infoAboutUser[i])
                        @Html.HiddenFor(x => x.UserIds[i])
                    </td>
                    <td>
                        <select asp-for="banTypeName[i]">
                            <!-- Default option (not valid) -->
                            <option>Select one</option>
                            <!-- Ban types list -->
                            @foreach (SelectListItem s in Model.BanTypesAvailable)
                            {
                                <option>@s.Text</option>
                            }

                        </select>
                    </td>
                    <td>
                        <div class="form-group">
                            <div class="col-md-10">
                                <input asp-for="BansForUsers[i].Start" asp-format="{0:dd/MM/yyyy HH:mm}" class="form-control" height="20" />
                                <span asp-validation-for="BansForUsers[i].Start" class="text-danger" />
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="form-group">
                            <div class="col-md-10">
                                <input asp-for="BansForUsers[i].End" asp-format="{0:dd/MM/yyyy HH:mm}" class="form-control" height="20" />
                                <span asp-validation-for="BansForUsers[i].End" class="text-danger" />
                            </div>
                        </div>
                    </td>
                    <td width="50%">
                        <div class="form-group">

                            <div class="col-md-10">
                                <input asp-for="BansForUsers[i].AdditionalComment" class="form-control" height="20" />
                                <span asp-validation-for="BansForUsers[i].AdditionalComment" class="text-danger" />
                            </div>
                        </div>
                    </td>
                </tr>
            }
        </tbody>

    </table>

    <button type="submit" class="btn btn-primary">Save</button>
    <a asp-action="Index" class="btn btn-default">Cancel</a>

</form>

<div>
    <a asp-action="SelectUsersToBan">Back to List</a>
</div>